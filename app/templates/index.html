{% extends "base.html" %}

{% block title %}Postulando - Sistema de ExÃ¡menes{% endblock %}

{% block content %}
<div class="header">
    <h1>ðŸŽ“ POSTULANDO</h1>
    <p>Sistema de Captura y CalificaciÃ³n de ExÃ¡menes de AdmisiÃ³n</p>
</div>

<div class="card">
    <h2 class="text-center mb-4">Bienvenido al Sistema Demo</h2>
    
    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-value">100</div>
            <div class="stat-label">Postulantes Registrados</div>
        </div>
        
        <div class="stat-card" style="background: linear-gradient(135deg, #10b981, #059669);">
            <div class="stat-value" id="examenes-capturados">0</div>
            <div class="stat-label">ExÃ¡menes Capturados</div>
        </div>
        
        <div class="stat-card" style="background: linear-gradient(135deg, #f59e0b, #d97706);">
            <div class="stat-value" id="examenes-calificados">0</div>
            <div class="stat-label">ExÃ¡menes Calificados</div>
        </div>
        
        <div class="stat-card" style="background: linear-gradient(135deg, #8b5cf6, #7c3aed);">
            <div class="stat-value">3</div>
            <div class="stat-label">APIs Vision Disponibles</div>
        </div>
    </div>
    
    <div style="margin-top: 3rem;">
        <h3 style="text-align: center; margin-bottom: 2rem;">ðŸš€ CaracterÃ­sticas de la Demo</h3>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem;">
            
            <div style="background: #f3f4f6; padding: 1.5rem; border-radius: 12px; border-left: 4px solid #2563eb;">
                <h4 style="color: #2563eb; margin-bottom: 0.5rem;">ðŸ“¸ Captura de Hojas</h4>
                <p style="color: #4b5563;">Sube fotos de las hojas de respuestas y el sistema las procesa automÃ¡ticamente</p>
            </div>
            
            <div style="background: #f3f4f6; padding: 1.5rem; border-radius: 12px; border-left: 4px solid #10b981;">
                <h4 style="color: #10b981; margin-bottom: 0.5rem;">ðŸ¤– 3 APIs de Vision</h4>
                <p style="color: #4b5563;">Prueba Google Vision, OpenAI GPT-4o Vision y Claude 4 Vision</p>
            </div>
            
            <div style="background: #f3f4f6; padding: 1.5rem; border-radius: 12px; border-left: 4px solid #f59e0b;">
                <h4 style="color: #f59e0b; margin-bottom: 0.5rem;">âš¡ CalificaciÃ³n AutomÃ¡tica</h4>
                <p style="color: #4b5563;">El sistema califica automÃ¡ticamente las 100 respuestas</p>
            </div>
            
            <div style="background: #f3f4f6; padding: 1.5rem; border-radius: 12px; border-left: 4px solid #8b5cf6;">
                <h4 style="color: #8b5cf6; margin-bottom: 0.5rem;">ðŸ“Š Resultados en Tiempo Real</h4>
                <p style="color: #4b5563;">Consulta el ranking y estadÃ­sticas al instante</p>
            </div>
            
            <div style="background: #f3f4f6; padding: 1.5rem; border-radius: 12px; border-left: 4px solid #ef4444;">
                <h4 style="color: #ef4444; margin-bottom: 0.5rem;">ðŸ”„ Demo Recargable</h4>
                <p style="color: #4b5563;">Limpia y reinicia la demo cuantas veces quieras</p>
            </div>
            
            <div style="background: #f3f4f6; padding: 1.5rem; border-radius: 12px; border-left: 4px solid #06b6d4;">
                <h4 style="color: #06b6d4; margin-bottom: 0.5rem;">ðŸ’¾ Data Ficticia</h4>
                <p style="color: #4b5563;">100 postulantes con DNIs y nombres simulados</p>
            </div>
            
        </div>
    </div>
    
    <div style="text-align: center; margin-top: 3rem;">
        <a href="/demo" class="btn btn-primary btn-large">
            ðŸš€ Iniciar Demo
        </a>
        <a href="/resultados" class="btn btn-success btn-large" style="margin-left: 1rem;">
            ðŸ“Š Ver Resultados
        </a>
    </div>
</div>

<div class="card">
    <h3 style="text-align: center; margin-bottom: 2rem;">ðŸ“‹ Flujo del Sistema</h3>
    
    <div style="display: flex; flex-direction: column; gap: 1rem; max-width: 800px; margin: 0 auto;">
        
        <div style="display: flex; align-items: center; gap: 1rem;">
            <div style="background: #2563eb; color: white; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; flex-shrink: 0;">1</div>
            <div style="flex: 1;">
                <strong>Seleccionar Postulante</strong>
                <p style="color: #6b7280; margin-top: 0.25rem;">Elige uno de los 100 postulantes registrados en el sistema</p>
            </div>
        </div>
        
        <div style="display: flex; align-items: center; gap: 1rem;">
            <div style="background: #10b981; color: white; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; flex-shrink: 0;">2</div>
            <div style="flex: 1;">
                <strong>Elegir API de Vision</strong>
                <p style="color: #6b7280; margin-top: 0.25rem;">Selecciona entre Google, OpenAI o Anthropic para procesar la imagen</p>
            </div>
        </div>
        
        <div style="display: flex; align-items: center; gap: 1rem;">
            <div style="background: #f59e0b; color: white; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; flex-shrink: 0;">3</div>
            <div style="flex: 1;">
                <strong>Capturar Hoja de Respuestas</strong>
                <p style="color: #6b7280; margin-top: 0.25rem;">Sube o arrastra la imagen de la hoja de respuestas</p>
            </div>
        </div>
        
        <div style="display: flex; align-items: center; gap: 1rem;">
            <div style="background: #8b5cf6; color: white; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; flex-shrink: 0;">4</div>
            <div style="flex: 1;">
                <strong>Procesamiento AutomÃ¡tico</strong>
                <p style="color: #6b7280; margin-top: 0.25rem;">La API extrae las 100 respuestas marcadas por el postulante</p>
            </div>
        </div>
        
        <div style="display: flex; align-items: center; gap: 1rem;">
            <div style="background: #ef4444; color: white; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; flex-shrink: 0;">5</div>
            <div style="flex: 1;">
                <strong>CalificaciÃ³n y Resultados</strong>
                <p style="color: #6b7280; margin-top: 0.25rem;">El sistema califica automÃ¡ticamente y genera el ranking</p>
            </div>
        </div>
        
    </div>
</div>

<div class="card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
    <h3 style="text-align: center; margin-bottom: 1rem;">ðŸ’¡ Acerca del Sistema</h3>
    <p style="text-align: center; max-width: 800px; margin: 0 auto; line-height: 1.6;">
        Este es un sistema demo para la captura y calificaciÃ³n automatizada de exÃ¡menes de admisiÃ³n. 
        Utiliza tecnologÃ­a de Computer Vision (LLM Vision APIs) para extraer las respuestas marcadas 
        en hojas fÃ­sicas sin necesidad de OCR tradicional, logrando mayor precisiÃ³n y flexibilidad.
    </p>
    <p style="text-align: center; margin-top: 1rem; font-size: 0.875rem; opacity: 0.9;">
        Desarrollado con Python + FastAPI + PostgreSQL + HTMX
    </p>
</div>

<script>
// Cargar estadÃ­sticas al inicio
document.addEventListener('DOMContentLoaded', async function() {
    try {
        const response = await fetch('/api/estadisticas');
        if (response.ok) {
            const data = await response.json();
            document.getElementById('examenes-capturados').textContent = data.examenes_capturados || 0;
            document.getElementById('examenes-calificados').textContent = data.examenes_calificados || 0;
        }
    } catch (error) {
        console.error('Error al cargar estadÃ­sticas:', error);
    }
});
</script>
{% endblock %}